<!-- FILENAME: index.html (Updated) -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- IMPORTANT: Add your OAuth Client IDs here -->
    <meta name="google-signin-client_id" content="772260889913-3vlll8sbp620c05sg9rfhbmmuh1b8na8.apps.googleusercontent.com">
    <meta property="fb:app_id" content="2084193538757104" /> <!-- NEW: Add your Facebook App ID -->
    <title>O4D - Advanced Digital Solutions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <!-- CSS is unchanged, so it is omitted for brevity. Paste the same CSS from the previous response here. -->
    <style>
        :root { /* --- Deep Space Theme (Default Dark) --- */ --bg-color: #0d1117;--primary-gradient: linear-gradient(45deg, #00f6ff, #00c4ff);--primary-color: #00f6ff;--glow-color: rgba(0, 246, 255, 0.4);--text-color: #c9d1d9;--text-muted: #8b949e;--card-bg: rgba(22, 27, 34, 0.65);--card-border: rgba(48, 54, 61, 0.8);--card-hover-border: rgba(0, 246, 255, 0.6);--card-shadow: rgba(0, 0, 0, 0.5);--navbar-bg: rgba(13, 17, 23, 0.75);--input-bg: #0d1117;--accent-color: #ff3b81;--accent-glow-color: rgba(255, 59, 129, 0.4);--success-color: #28a745;--error-color: #dc3545;--transition-speed: 0.4s; }
        .light-theme { /* --- Solaris Theme (Light) --- */ --bg-color: #f8f9fa;--primary-gradient: linear-gradient(45deg, #ff8c00, #ffa500);--primary-color: #ff8c00;--glow-color: rgba(255, 140, 0, 0.3);--text-color: #212529;--text-muted: #6c757d;--card-bg: rgba(255, 255, 255, 0.7);--card-border: #e9ecef;--card-hover-border: #ff8c00;--card-shadow: rgba(0, 0, 0, 0.08);--navbar-bg: rgba(255, 255, 255, 0.75);--input-bg: #ffffff;--accent-color: #007BFF;--accent-glow-color: rgba(0, 123, 255, 0.4); }
        * { box-sizing: border-box; margin: 0; padding: 0; } html { scroll-behavior: smooth; } body { font-family: 'Poppins', sans-serif; background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; overflow-x: hidden; transition: background-color var(--transition-speed), color var(--transition-speed); cursor: none; }
        #background-animation { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: -1; background-color: var(--bg-color); overflow: hidden; } .light-theme #background-animation { opacity: 0; } @keyframes move-stars { from { transform: translateY(0px); } to { transform: translateY(-2000px); } }
        #stars1, #stars2, #stars3 { position: absolute; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; display: block; } #stars1 { background: transparent url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="2000" height="2000"><circle fill="%23FFF" cx="100" cy="100" r="1.5"/><circle fill="%23FFF" cx="350" cy="420" r="1"/><circle fill="%23FFF" cx="600" cy="800" r="1.2"/><circle fill="%23FFF" cx="900" cy="200" r="1"/><circle fill="%23FFF" cx="1200" cy="600" r="1.1"/><circle fill="%23FFF" cx="1500" cy="900" r="1.3"/><circle fill="%23FFF" cx="1800" cy="300" r="0.8"/></svg>'); animation: move-stars 200s linear infinite; } #stars2 { background: transparent url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="2000" height="2000"><circle fill="%23FFF" cx="200" cy="500" r="1"/><circle fill="%23FFF" cx="500" cy="100" r="0.8"/><circle fill="%23FFF" cx="800" cy="700" r="1"/><circle fill="%23FFF" cx="1100" cy="300" r="1.2"/><circle fill="%23FFF" cx="1400" cy="850" r="0.9"/><circle fill="%23FFF" cx="1700" cy="150" r="1.1"/><circle fill="%23FFF" cx="1900" cy="950" r="1"/></svg>'); animation: move-stars 150s linear infinite; } #stars3 { background: transparent url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="2000" height="2000"><circle fill="%23FFF" cx="300" cy="300" r="0.7"/><circle fill="%23FFF" cx="650" cy="650" r="0.9"/><circle fill="%23FFF" cx="950" cy="50" r="1.1"/><circle fill="%23FFF" cx="1250" cy="750" r="0.6"/><circle fill="%23FFF" cx="1550" cy="400" r="1"/><circle fill="%23FFF" cx="1850" cy="800" r="0.8"/></svg>'); animation: move-stars 100s linear infinite; }
        .cursor-dot, .cursor-outline { pointer-events: none; position: fixed; top: 50%; left: 50%; border-radius: 50%; z-index: 9999; transform: translate(-50%, -50%); } .cursor-dot { width: 8px; height: 8px; background-color: var(--primary-color); transition: background-color var(--transition-speed); } .cursor-outline { width: 40px; height: 40px; background-color: rgba(0, 246, 255, 0.2); transition: all 0.08s ease-out; } .light-theme .cursor-outline { background-color: rgba(255, 140, 0, 0.2); }
        .page-container { max-width: 1300px; margin: 0 auto; padding: 0 20px; } .top-navbar { position: sticky; top: 0; width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 1rem 5%; background-color: var(--navbar-bg); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border-bottom: 1px solid var(--card-border); z-index: 1000; perspective: 1500px; transform-style: preserve-3d; }
        .logo { font-size: 2rem; font-weight: 700; color: var(--primary-color); text-decoration: none; transform: translateZ(30px); } .nav-links { list-style: none; display: flex; gap: 1rem; transform: translateZ(20px); } .nav-links a { color: var(--text-muted); text-decoration: none; font-weight: 500; padding: 0.5rem 0.8rem; border-radius: 6px; transition: color 0.3s; position: relative; } .nav-links a:hover, .nav-links a.active { color: var(--primary-color); } .nav-links a::after { content: ''; position: absolute; bottom: -4px; left: 0; width: 0; height: 2px; background: var(--primary-gradient); transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1); } .nav-links a.active::after, .nav-links a:hover::after { width: 100%; }
        .header-controls { display: flex; align-items: center; gap: 1rem; } .contact-btn { background: var(--primary-gradient); color: #0d1117; padding: 0.6rem 1.2rem; border-radius: 20px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; transform: translateZ(30px); box-shadow: 0 4px 15px var(--glow-color); border: none; } .contact-btn:hover { filter: brightness(1.1); transform: scale(1.05) translateZ(35px) translateY(-2px); } .theme-toggle-btn { background: none; border: 1px solid var(--text-muted); color: var(--text-muted); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; display: flex; align-items: center; justify-content: center; transition: all 0.3s; transform: translateZ(30px); } .theme-toggle-btn:hover { color: var(--primary-color); border-color: var(--primary-color); transform: scale(1.1) translateZ(35px); }
        .hero-section { min-height: 80vh; display: flex; align-items: center; justify-content: center; text-align: center; padding: 4rem 2rem; perspective: 1000px; } .hero-content { padding: 3rem 4rem; border-radius: 20px; transition: transform 0.1s ease-out; } .hero-content h1 { font-size: clamp(2.8rem, 6vw, 4.8rem); margin-bottom: 1.5rem; color: var(--text-color); font-weight: 700; letter-spacing: 1px; transition: transform 0.2s ease-out; } .hero-content p { font-size: clamp(1.1rem, 2.5vw, 1.4rem); max-width: 700px; margin: 0 auto 2rem auto; color: var(--text-muted); transition: transform 0.2s ease-out; } .btn { border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease-out; background: var(--primary-gradient); color: #0d1117; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; box-shadow: 0 4px 15px var(--glow-color); } .btn:hover { filter: brightness(1.1); transform: scale(1.05) translateY(-2px); } .btn-secondary { background: transparent; color: var(--primary-color); border: 2px solid var(--primary-color); box-shadow: none; } .btn-secondary:hover { background: var(--primary-color); color: var(--bg-color); box-shadow: 0 4px 15px var(--glow-color); } .light-theme .btn-secondary:hover { color: #fff; }
        .section { padding-top: 5rem; opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; } .section.is-visible { opacity: 1; transform: translateY(0); } .section-title { text-align: center; font-size: clamp(2rem, 5vw, 3rem); color: var(--text-color); margin-bottom: 3rem; font-weight: 600; } .section-title span { color: var(--primary-color); }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2.5rem; padding: 1rem 0 4rem 0; } .card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 18px; transform-style: preserve-3d; opacity: 0; transform: translateY(20px); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s ease-out, border-color 0.4s, box-shadow 0.4s; position: relative; box-shadow: 0 10px 30px var(--card-shadow); overflow: hidden; backdrop-filter: blur(8px); } .is-visible .card { opacity: 1; transform: translateY(0); } .card:hover { transform: translateY(-10px) scale(1.02); box-shadow: 0 15px 40px var(--card-shadow); border-color: var(--card-hover-border); } .card-link { display: block; width: 100%; height: 100%; padding: 2rem 1.8rem; text-decoration: none; } .card-content { height: 100%; display: flex; flex-direction: column; justify-content: flex-start; align-items: center; text-align: center; color: var(--text-color); } .card-icon { font-size: 3rem; color: var(--primary-color); margin-bottom: 1.2rem; transition: all 0.3s; } .card:hover .card-icon { transform: scale(1.1); filter: drop-shadow(0 0 10px var(--glow-color)); } .card h3 { font-size: 1.5rem; margin-bottom: 0.8rem; color: var(--text-color); } .card p { font-size: 0.95rem; flex-grow: 1; color: var(--text-muted); } .card .read-more { font-weight: 600; color: var(--accent-color); margin-top: auto; padding-top: 1rem; font-size: 0.9rem; display: inline-block; transition: color 0.3s; } .card .read-more .arrow { display: inline-block; transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); } .card-link:hover .read-more { color: var(--primary-color); } .card-link:hover .read-more .arrow { transform: translateX(5px); }
        .featured-on { text-align: center; padding: 2rem 0; } .featured-on h4 { color: var(--text-muted); margin-bottom: 2rem; font-weight: 500; text-transform: uppercase; letter-spacing: 2px; } .logos { display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 4rem; } .logos i { font-size: 3rem; color: var(--text-muted); transition: color 0.3s; } .logos i:hover { color: var(--primary-color); }
        .form-input { width: 100%; padding: 0.8rem 1rem; border-radius: 8px; border: 1px solid var(--card-border); background: var(--input-bg); color: var(--text-color); font-family: 'Poppins', sans-serif; transition: all var(--transition-speed); font-size: 1rem; } .form-input:focus, .form-input:focus-visible { border-color: var(--primary-color); outline: none; box-shadow: 0 0 10px var(--glow-color); }
        .auth-card { max-width: 500px; margin: 0 auto; padding: 2.5rem; } .social-login-options { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem; } .social-btn { display: flex; align-items: center; justify-content: center; gap: 0.8rem; padding: 0.7rem; border-radius: 8px; text-decoration: none; font-weight: 500; border: 1px solid var(--card-border); color: var(--text-color); transition: all 0.3s; cursor: pointer; } .social-btn i { font-size: 1.2rem; } .social-btn:hover { background-color: var(--card-border); border-color: var(--primary-color); color: var(--primary-color); } #google-signin-btn { display: flex; justify-content: center; } 
        .divider { display: flex; align-items: center; text-align: center; color: var(--text-muted); margin: 2rem 0; font-size: 0.9rem; } .divider::before, .divider::after { content: ''; flex: 1; border-bottom: 1px solid var(--card-border); } .divider:not(:empty)::before { margin-right: .5em; } .divider:not(:empty)::after { margin-left: .5em; } .auth-form { width:100%; display:flex; flex-direction:column; gap:1rem; }
        .auth-tabs { display: flex; border-bottom: 1px solid var(--card-border); margin-bottom: 2rem; } .auth-tab { flex: 1; padding: 1rem; text-align: center; cursor: pointer; font-weight: 500; color: var(--text-muted); border-bottom: 3px solid transparent; transition: all 0.3s; } .auth-tab.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
        .main-footer { background-color: var(--card-bg); padding: 3rem 5% 2rem 5%; margin-top: 5rem; border-top: 1px solid var(--card-border); text-align: center; } .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 2rem; text-align: left; } .footer-section h4 { color: var(--primary-color); margin-bottom: 1rem; } .footer-section ul { list-style: none; } .footer-section a { color: var(--text-muted); text-decoration: none; transition: color 0.3s; line-height: 2; } .footer-section a:hover { color: var(--primary-color); } .social-icons a { font-size: 1.5rem; margin-right: 1rem; } .footer-bottom { border-top: 1px solid var(--card-border); padding-top: 1.5rem; margin-top: 1.5rem; font-size: 0.9rem; color: var(--text-muted); }
        .toast-notification { position: fixed; bottom: 20px; left: 50%; transform: translate(-50%, 150%); padding: 1rem 2rem; border-radius: 8px; color: #fff; font-weight: 500; z-index: 1001; transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); box-shadow: 0 5px 20px rgba(0,0,0,0.3); } .toast-notification.show { transform: translate(-50%, 0); } .toast-notification.success { background-color: var(--success-color); } .toast-notification.error { background-color: var(--error-color); }
        @keyframes spin { to { transform: rotate(360deg); } } .spinner { display: inline-block; width: 1em; height: 1em; border: 2px solid transparent; border-top-color: currentColor; border-radius: 50%; animation: spin 0.6s linear infinite; }
    </style>
</head>
<body>
    <div id="fb-root"></div>
    <!-- Note: v19.0 is the latest as of May 2024. Update as needed. -->
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>

    <!-- The rest of the BODY is unchanged, so it is omitted for brevity. -->
    <!-- Paste the body contents from the previous response here, from <div class="cursor-dot">... to ...</footer> -->
    <div class="cursor-dot"></div><div class="cursor-outline"></div><div id="background-animation"><div id="stars1"></div><div id="stars2"></div><div id="stars3"></div></div><header class="top-navbar"><a href="#" class="logo">O4D</a><nav><ul class="nav-links"><li><a href="#services" class="active">Services</a></li><li><a href="#auth">Login</a></li><li><a href="#experts">Experts</a></li><li><a href="#contact">Contact</a></li></ul></nav><div class="header-controls"><a href="#contact" class="contact-btn">Contact Us</a><button id="theme-toggle" class="theme-toggle-btn" aria-label="Toggle Theme"><i class="fas fa-moon"></i></button></div></header><main class="page-container"><section class="hero-section"><div class="hero-content"><h1 data-depth="0.2">Empowering Your Digital Future</h1><p data-depth="0.1">We are a dynamic team of tech enthusiasts and creative thinkers, dedicated to transforming your ideas into powerful digital solutions.</p></div></section><section class="featured-on section"><h4>As Featured On</h4><div class="logos"><i class="fab fa-microsoft" title="Microsoft" aria-label="Microsoft"></i><i class="fab fa-google" title="Google" aria-label="Google"></i><i class="fab fa-meta" title="Meta" aria-label="Meta"></i><i class="fab fa-amazon" title="Amazon" aria-label="Amazon"></i><i class="fab fa-apple" title="Apple" aria-label="Apple"></i></div></section><section id="services" class="section"><h2 class="section-title">Our Core <span>Services</span></h2><div class="card-grid"><div class="card"><a href="#" class="card-link"><div class="card-content"><i class="fas fa-laptop-code card-icon"></i><h3>Web Development</h3><p>Crafting responsive, high-performance websites tailored to your business needs.</p><span class="read-more">Learn More <span class="arrow">→</span></span></div></a></div><div class="card"><a href="#auth" class="card-link"><div class="card-content"><i class="fas fa-file-code card-icon"></i><h3>Github Viewer</h3><p>Access and edit your GitHub repositories directly by logging in with a PAT.</p><span class="read-more">Login to Explore <span class="arrow">→</span></span></div></a></div><div class="card"><a href="#" class="card-link"><div class="card-content"><i class="fa-solid fa-robot card-icon"></i><h3>AI Integration</h3><p>Leverage our API-based AI with powerful capabilities and defined limits.</p><span class="read-more">View Apps <span class="arrow">→</span></span></div></a></div></div></section>
    <section id="auth" class="section">
        <h2 class="section-title">Join <span>O4D</span></h2>
        <div class="card auth-card">
            <div class="card-content">
                <div class="auth-tabs">
                    <div class="auth-tab active" data-form="login">Login</div>
                    <div class="auth-tab" data-form="signup">Sign Up</div>
                </div>
                <div id="login-form-container">
                    <p style="text-align:center; margin-bottom: 1.5rem; color: var(--text-muted);">Login to access your services.</p>
                    <form id="manual-login-form" class="auth-form">
                        <input type="email" name="email" class="form-input" placeholder="Email Address" required>
                        <input type="password" name="password" class="form-input" placeholder="Password" required>
                        <button type="submit" class="btn" style="width:100%;">Login</button>
                    </form>
                </div>
                <div id="signup-form-container" style="display: none;">
                    <p style="text-align:center; margin-bottom: 1.5rem; color: var(--text-muted);">Create an account to get started.</p>
                    <form id="manual-signup-form" class="auth-form">
                        <input type="text" name="name" class="form-input" placeholder="Your Name" required>
                        <input type="email" name="email" class="form-input" placeholder="Email Address" required>
                        <input type="password" name="password" class="form-input" placeholder="Password" required>
                        <button type="submit" class="btn" style="width:100%;">Sign Up</button>
                    </form>
                </div>
                <div class="divider">OR</div>
                <div class="social-login-options">
                    <div id="google-signin-btn"></div>
                    <a id="facebook-signin-btn" class="social-btn"><i class="fab fa-facebook-f"></i> Continue with Facebook</a>
                    <a id="github-signin-btn" href="#" class="social-btn"><i class="fab fa-github"></i> Continue with GitHub</a>
                </div>
            </div>
        </div>
    </section><div class="card-content" style="padding: 2rem 1.8rem;">
    <section id="experts" class="section"><h2 class="section-title">Meet Our <span>Experts</span></h2><div class="card-grid"><div class="card"><div class="card"><div class="card-content" style="padding: 2rem 1.8rem;"><i class="fas fa-user-astronaut card-icon"></i><h3>HEMANTH</h3><p>Drives our core AI strategy and complex research initiatives.</p></div></div></div></section><section id="contact" class="section"><h2 class="section-title">Get In <span>Touch</span></h2><div class="card" style="aspect-ratio: auto; max-width: 700px; margin: 0 auto;"><div class="card-content" style="padding: 2rem;"><p style="margin-bottom: 1.5rem;">Have a project in mind or want to learn more? Reach out!</p><form id="contact-form" style="width:100%; display:flex; flex-direction:column; gap:1rem;"><input type="text" name="from_name" class="form-input" placeholder="Your Name" required><input type="email" name="from_email" class="form-input" placeholder="Your Email" required><textarea name="message" class="form-input" placeholder="Your Message" rows="5" required></textarea><button type="submit" id="submit-btn" class="btn" style="width:100%;"><span class="btn-text">Send Message</span></button></form></div></div></section></main><footer class="main-footer"><div class="footer-content"><div class="footer-section"><h4>O4D</h4><p>Transforming ideas into digital reality with cutting-edge technology and creative design.</p></div><div class="footer-section"><h4>Quick Links</h4><ul><li><a href="#services">Services</a></li><li><a href="#auth">Login</a></li><li><a href="#experts">Experts</a></li><li><a href="#contact">Contact</a></li></ul></div><div class="footer-section"><h4>Contact Info</h4><p><i class="fas fa-map-marker-alt"></i> ANDHRA PRADESH, INDIA</p><p><i class="fas fa-envelope"></i> info.open4discuss@gmail.com</p></div><div class="footer-section"><h4>Connect</h4><div class="social-icons"><a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a><a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a></div></div></div><div class="footer-bottom">© 2025 O4D. All Rights Reserved.</div></footer>
    <div class="toast-notification"></div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        
        initThemeToggle();
        initScrollAnimations();
        initNavHighlighting();
        init3DHero();
        initCursorGlow();
        initAuth(); 
        initSocialLogins();

        function showToast(message, type = 'success') {
            const toast = document.querySelector('.toast-notification');
            toast.textContent = message;
            toast.className = `toast-notification ${type}`;
            setTimeout(() => toast.classList.add('show'), 100);
            setTimeout(() => toast.classList.remove('show'), 4000);
        }

        // --- Social Login Initialization (UPDATED) ---
        function initSocialLogins() {
            // --- Google Sign-In (No changes) ---
            const GOOGLE_CLIENT_ID = document.querySelector('meta[name="google-signin-client_id"]').content;
            window.onGoogleLibraryLoad = () => {
                google.accounts.id.initialize({
                    client_id: GOOGLE_CLIENT_ID,
                    callback: async (response) => {
                        try {
                            const res = await fetch('/api/auth/google', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ token: response.credential })
                            });
                            const data = await res.json();
                            if (res.ok) {
                                showToast('Google login successful! Redirecting...', 'success');
                                window.location.href = '/profile.html';
                            } else {
                                throw new Error(data.message || 'Google login failed.');
                            }
                        } catch (error) { showToast(error.message, 'error'); }
                    }
                });
                google.accounts.id.renderButton(document.getElementById('google-signin-btn'),{ theme: 'outline', size: 'large', type: 'standard', text: 'continue_with', shape: 'pill', width: '330' });
            };

            // --- Facebook Sign-In (NEW IMPLEMENTATION) ---
            const FACEBOOK_APP_ID = document.querySelector('meta[property="fb:app_id"]').content;
            window.fbAsyncInit = function() {
                FB.init({
                    appId: FACEBOOK_APP_ID,
                    cookie: true,
                    xfbml: true,
                    version: 'v19.0'
                });
                FB.AppEvents.logPageView();
            };

            document.getElementById('facebook-signin-btn').addEventListener('click', async () => {
                FB.login(async function(response) {
                    if (response.authResponse) {
                        try {
                            const res = await fetch('/api/auth/facebook', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ token: response.authResponse.accessToken })
                            });
                            const data = await res.json();
                            if (res.ok) {
                                showToast('Facebook login successful! Redirecting...', 'success');
                                window.location.href = '/profile.html';
                            } else {
                                throw new Error(data.message || 'Facebook login failed.');
                            }
                        } catch (error) {
                            showToast(`Error: ${error.message}`, 'error');
                        }
                    } else {
                        showToast('Facebook login was cancelled or failed.', 'error');
                    }
                }, {scope: 'email,public_profile'});
            });
            
            // --- GitHub Sign-In (No changes) ---
            const GITHUB_CLIENT_ID = 'Ov23lifBaKaXz6PfJGCr';
            document.getElementById('github-signin-btn').href = `https://github.com/login/oauth/authorize?client_id=${GITHUB_CLIENT_ID}&scope=read:user,user:email`;
        }
        
        // --- Manual Auth, Theme, Animations, etc. (No changes) ---
        // The rest of the JS functions are unchanged. Paste them here from the previous response.
        function initAuth() {
            const loginForm = document.getElementById('manual-login-form');
            const signupForm = document.getElementById('manual-signup-form');
            const tabs = document.querySelectorAll('.auth-tab');
            const loginContainer = document.getElementById('login-form-container');
            const signupContainer = document.getElementById('signup-form-container');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const formToShow = tab.getAttribute('data-form');
                    loginContainer.style.display = (formToShow === 'login') ? 'block' : 'none';
                    signupContainer.style.display = (formToShow === 'signup') ? 'block' : 'none';
                });
            });

            const handleFormSubmit = async (form, url, successMessage) => {
                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const button = form.querySelector('button[type="submit"]');
                    button.disabled = true;
                    button.innerHTML = '<span class="spinner"></span>';

                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData.entries());
                    
                    try {
                        const response = await fetch(url, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(data)
                        });
                        const result = await response.json();
                        if (!response.ok) throw new Error(result.message || 'An error occurred.');

                        showToast(successMessage, 'success');
                        window.location.href = '/profile.html';
                    } catch (error) {
                        showToast(`Error: ${error.message}`, 'error');
                    } finally {
                        button.disabled = false;
                        button.innerHTML = form.id === 'manual-login-form' ? 'Login' : 'Sign Up';
                    }
                });
            };

            handleFormSubmit(loginForm, '/api/login', 'Login successful! Redirecting...');
            handleFormSubmit(signupForm, '/api/register', 'Registration successful! Redirecting...');
        }
        function initThemeToggle() { const themeToggleButton = document.getElementById('theme-toggle'); const body = document.body; const icon = themeToggleButton.querySelector('i'); function applyTheme(theme) { body.classList.toggle('light-theme', theme === 'light'); icon.className = `fas fa-${theme === 'light' ? 'moon' : 'sun'}`; localStorage.setItem('theme', theme); } themeToggleButton.addEventListener('click', () => { const currentTheme = body.classList.contains('light-theme') ? 'light' : 'dark'; applyTheme(currentTheme === 'dark' ? 'light' : 'dark'); }); const savedTheme = localStorage.getItem('theme') || 'dark'; applyTheme(savedTheme); }
        function initScrollAnimations() { const observer = new IntersectionObserver((entries, obs) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('is-visible'); const cards = entry.target.querySelectorAll('.card'); cards.forEach((card, index) => { card.style.transitionDelay = `${index * 100}ms`; }); obs.unobserve(entry.target); } }); }, { threshold: 0.1 }); document.querySelectorAll('.section').forEach(section => observer.observe(section)); }
        function initNavHighlighting() { const sections = document.querySelectorAll('section[id]'); const navLinks = document.querySelectorAll('.nav-links a'); const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { const id = entry.target.getAttribute('id'); navLinks.forEach(link => { link.classList.toggle('active', link.getAttribute('href') === `#${id}`); }); } }); }, { rootMargin: '-40% 0px -40% 0px' }); sections.forEach(section => observer.observe(section)); }
        function init3DHero() { const hero = document.querySelector('.hero-section'); if (!hero) return; const heroContent = hero.querySelector('.hero-content'); const handleMouseMove = (e) => { const { clientX, clientY } = e; const { offsetWidth, offsetHeight } = hero; const x = (clientX - offsetWidth / 2) / (offsetWidth / 2); const y = (clientY - offsetHeight / 2) / (offsetHeight / 2); requestAnimationFrame(() => { heroContent.style.transform = `rotateY(${x * 5}deg) rotateX(${-y * 5}deg)`; }); }; hero.addEventListener('mousemove', e => { let inThrottle; if (!inThrottle) { handleMouseMove(e); inThrottle = true; setTimeout(() => inThrottle = false, 16); } }); hero.addEventListener('mouseleave', () => { heroContent.style.transform = `rotateY(0) rotateX(0)`; }); }
        function initCursorGlow() { const cursorDot = document.querySelector('.cursor-dot'); const cursorOutline = document.querySelector('.cursor-outline'); if (!cursorDot || !cursorOutline) return; window.addEventListener('mousemove', (e) => { const posX = e.clientX; const posY = e.clientY; cursorDot.style.left = `${posX}px`; cursorDot.style.top = `${posY}px`; cursorOutline.style.left = `${posX}px`; cursorOutline.style.top = `${posY}px`; }); document.querySelectorAll('a, button, .card').forEach(el => { el.addEventListener('mouseenter', () => cursorOutline.style.transform = 'translate(-50%, -50%) scale(1.5)'); el.addEventListener('mouseleave', () => cursorOutline.style.transform = 'translate(-50%, -50%) scale(1)'); }); }
    });
    </script>
</body>
</html>